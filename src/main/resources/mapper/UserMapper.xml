<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="yhy.project.mapper.UserMapper">


    <!-- 根据用户名查询用户 -->
    <select id="selectUserByUsername" resultType="User">
        select * from user where username = #{username} AND status = 1
    </select>

    <!-- 根据手机号查询用户 -->
    <select id="selectUserByPhone" resultType="User">
        select * from user where phone = #{phone} AND status = 1
    </select>

    <!-- 添加用户 -->
    <insert id="insertUser" parameterType="User">
        insert into user(username, password, name, phone, address, status)
        values (#{username}, #{password}, #{name}, #{phone}, #{address}, 1)
    </insert>

    <!-- 根据用户名密码查询用户 -->
    <select id="selectUserByUsernameAndPassword" resultType="User">
        select * from user where username = #{username} AND password = #{password} AND status = 1
    </select>
    <!--  根据用户id查询用户信息  -->
    <select id="selectUserById" resultType="User">
        select * from user where id = #{userId} AND status = 1
    </select>
    <!--  查询所有用户信息  -->
    <select id="lists" resultType="User">
        select * from user
    </select>

    <!--  根据员工姓名查询用户信息  -->
    <select id="selectUser" resultType="User">
        select * from user where name = #{name}
    </select>


    <!--  根据电话修改密码  -->
    <update id="updateUserPwd">
        update user set password = #{password} where phone = #{phone}
    </update>
    <!--修改用户信息-->
    <update id="updateUserInfo">
        update `user` set username = #{username},name = #{name},password = #{password}, phone = #{phone}, address = #{address} where id = #{id}
    </update>
    <!--修改用户状态-->
    <update id="updateUserStatus">
        update user set status = #{status} where id = #{id}
    </update>
    <!--删除用户-->
    <delete id="delUser">
        delete from user where id=#{id}
    </delete>

</mapper>